(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{104:(e,t,a)=>{Promise.resolve().then(a.bind(a,916))},916:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),i=a(2115),n=a(5683),s=a(2728),l=a(6046);let o=async()=>({id:"mock"}),d=async()=>({forEach:()=>{},docs:[]}),c=()=>{let e=(0,l.useRouter)(),[t,a]=(0,i.useState)(!1),[c,h]=(0,i.useState)(3),[u,m]=(0,i.useState)(0),[p,f]=(0,i.useState)([]),[x,g]=(0,i.useState)(!1),[y,v]=(0,i.useState)({x:0,y:0}),[b,w]=(0,i.useState)([]),[M,j]=(0,i.useState)([]),[N,z]=(0,i.useState)([]),[E,I]=(0,i.useState)(1),k=(0,i.useRef)(null),S=(0,i.useRef)(Date.now()),H=(0,i.useRef)(null),R=(0,i.useRef)(null),D=(0,i.useRef)(null),T=()=>{clearInterval(H.current),clearInterval(R.current),clearInterval(D.current),e.push("/")};(0,i.useEffect)(()=>{let e=e=>{if(k.current){let t=k.current.getBoundingClientRect();v({x:e.clientX-t.left,y:e.clientY-t.top})}},a=()=>{t||h(0)};return window.addEventListener("mousemove",e),document.addEventListener("mouseleave",a),()=>{window.removeEventListener("mousemove",e),document.removeEventListener("mouseleave",a)}},[t]),(0,i.useEffect)(()=>(_(),L(),()=>{clearInterval(H.current),clearInterval(R.current),clearInterval(D.current)}),[]),(0,i.useEffect)(()=>{if(!t){let e=setInterval(()=>{m(Math.floor((Date.now()-S.current)/1e3))},1e3);return()=>clearInterval(e)}},[t]),(0,i.useEffect)(()=>{c<=0&&!t&&W()},[c]),(0,i.useEffect)(()=>{if(!x&&!t){for(let e of b)if(Math.sqrt(Math.pow(y.x-e.x,2)+Math.pow(y.y-e.y,2))<10+e.size/2){C();break}for(let e of M){if("top"===e.type&&y.y<e.size||"right"===e.type&&y.x>window.innerWidth-e.size){C();break}if("bottom"===e.type&&y.y>window.innerHeight-e.size){C();break}if("left"===e.type&&y.x<e.size){C();break}else if("h-line"===e.type&&Math.abs(y.y-e.position)<e.size/2){C();break}else if("v-line"===e.type&&Math.abs(y.x-e.position)<e.size/2){C();break}}}},[y,b,M,x,t]);let L=()=>{S.current=Date.now();let e=()=>{clearInterval(H.current);let e=Math.max(100,800-70*E);H.current=setInterval(()=>{P()},e)};e();let t=()=>{clearInterval(R.current);let e=Math.max(500,2e3-150*E);R.current=setInterval(()=>{Math.random()>.5&&Y()},e)};t(),D.current=setInterval(()=>{I(a=>(e(),t(),a+.5))},15e3)},W=async()=>{a(!0),clearInterval(H.current),clearInterval(R.current),clearInterval(D.current);try{await o().catch(e=>{console.error("Error saving high score:",e)}),setTimeout(()=>{e.refresh()},3e3)}catch(t){console.error("Error saving high score:",t),setTimeout(()=>{e.refresh()},3e3)}},_=async()=>{try{let e=await d().catch(e=>(console.error("Error fetching high scores:",e),{docs:[]})),t=[];e.forEach(e=>{t.push(e.data())}),f(t)}catch(e){console.error("Error loading high scores:",e),f([])}},C=()=>{x||(h(e=>e-1),g(!0),setTimeout(()=>{g(!1)},3e3))},P=()=>{let e,t,a,r;let i=Math.floor(4*Math.random()),n=3*Math.random()+(2+.8*E);0===i?(e=Math.random()*window.innerWidth,t=0,a=2*Math.random()-1,r=Math.random()*n+1):1===i?(e=window.innerWidth,t=Math.random()*window.innerHeight,a=-(Math.random()*n+1),r=2*Math.random()-1):2===i?(e=Math.random()*window.innerWidth,t=window.innerHeight,a=2*Math.random()-1,r=-(Math.random()*n+1)):(e=0,t=Math.random()*window.innerHeight,a=Math.random()*n+1,r=2*Math.random()-1);let s={id:Date.now()+Math.random(),x:e,y:t,xSpeed:a,ySpeed:r,size:15*Math.random()+10};w(e=>[...e,s]),setTimeout(()=>{w(e=>e.filter(e=>e.id!==s.id))},Math.max(2e3,5e3-300*E))},Y=()=>{let e,t;let a=["top","right","bottom","left","h-line","v-line","h-line","v-line"],r=a[Math.floor(Math.random()*a.length)];if("h-line"===r||"v-line"===r?(e=Math.floor(20*Math.random())+10,t="h-line"===r?Math.floor(Math.random()*(window.innerHeight-100))+50:Math.floor(Math.random()*(window.innerWidth-100))+50,B(r,t,e)):(e=Math.floor(50*Math.random())+50,t=null),"h-line"===r||"v-line"===r)setTimeout(()=>{let a={id:Date.now()+Math.random(),type:r,size:e,position:t};j(e=>[...e,a]),setTimeout(()=>{j(e=>e.filter(e=>e.id!==a.id))},Math.max(1e3,2e3-100*E))},Math.max(500,1e3-50*E));else{let a={id:Date.now()+Math.random(),type:r,size:e,position:t};j(e=>[...e,a]),setTimeout(()=>{j(e=>e.filter(e=>e.id!==a.id))},Math.max(1e3,2e3-100*E))}},B=(e,t,a)=>{let r=Date.now()+Math.random(),i={id:r,type:e,position:t,size:.8*a};z(e=>[...e,i]),setTimeout(()=>{z(e=>e.filter(e=>e.id!==r))},Math.max(500,1e3-50*E))};(0,i.useEffect)(()=>{if(t)return;let e=setInterval(()=>{w(e=>e.map(e=>({...e,x:e.x+e.xSpeed,y:e.y+e.ySpeed})))},16);return()=>clearInterval(e)},[t]);let O=Math.floor(E);return(0,r.jsxs)("div",{className:"w-full h-screen bg-gray-900 text-white overflow-hidden relative",ref:k,children:[(0,r.jsx)("button",{onClick:T,className:"absolute top-4 left-4 z-20 flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors duration-200 text-white font-medium shadow-lg",children:"← Back to Hub"}),(0,r.jsxs)("div",{className:"absolute top-4 left-48 flex gap-4 z-10",children:[(0,r.jsxs)("div",{className:"px-4 py-2 bg-gray-800 rounded-md",children:["Lives: ",Array(c).fill("❤️").join(" ")]}),(0,r.jsxs)("div",{className:"px-4 py-2 bg-gray-800 rounded-md",children:["Score: ",u]}),(0,r.jsxs)("div",{className:"px-4 py-2 rounded-md ".concat(O<=1?"bg-green-800":O<=3?"bg-yellow-800":O<=5?"bg-orange-800":"bg-red-800"),children:["Level: ",1===O?"Easy":O<=3?"Medium":O<=5?"Hard":"Extreme"]})]}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 bg-gray-800 p-4 rounded-md z-10",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-2",children:"High Scores"}),p.length>0?(0,r.jsx)("ul",{children:p.map((e,t)=>(0,r.jsxs)("li",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:["#",t+1]}),(0,r.jsxs)("span",{className:"ml-4",children:[e.score," sec"]})]},t))}):(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"No high scores yet"})]}),(0,r.jsx)("div",{className:"absolute w-2 h-2 rounded-full ".concat(x?"bg-blue-500 animate-pulse":"bg-transparent"),style:{left:y.x-1,top:y.y-1,boxShadow:x?"0 0 15px 5px rgba(59, 130, 246, 0.7)":"none"}}),(0,r.jsx)(n.N,{children:N.map(e=>{let t={};return"h-line"===e.type?t={top:e.position-e.size/2,left:0,width:"100%",height:e.size}:"v-line"===e.type&&(t={top:0,left:e.position-e.size/2,width:e.size,height:"100%"}),(0,r.jsx)(s.P.div,{className:"absolute bg-yellow-500",style:t,initial:{opacity:0},animate:{opacity:.4},exit:{opacity:0},transition:{duration:.2}},e.id)})}),(0,r.jsx)(n.N,{children:b.map(e=>(0,r.jsx)(s.P.div,{className:"absolute bg-red-500 rounded-full",style:{width:e.size,height:e.size,left:e.x-e.size/2,top:e.y-e.size/2},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0}},e.id))}),(0,r.jsx)(n.N,{children:M.map(e=>{let t={};return"top"===e.type?t={top:0,left:0,width:"100%",height:e.size}:"right"===e.type?t={top:0,right:0,width:e.size,height:"100%"}:"bottom"===e.type?t={bottom:0,left:0,width:"100%",height:e.size}:"left"===e.type?t={top:0,left:0,width:e.size,height:"100%"}:"h-line"===e.type?t={top:e.position-e.size/2,left:0,width:"100%",height:e.size}:"v-line"===e.type&&(t={top:0,left:e.position-e.size/2,width:e.size,height:"100%"}),(0,r.jsx)(s.P.div,{className:"absolute bg-red-600",style:t,initial:{opacity:0},animate:{opacity:.8},exit:{opacity:0},transition:{duration:.3}},e.id)})}),t&&(0,r.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-30",children:[(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Game Over"}),(0,r.jsxs)("p",{className:"text-2xl",children:["Your score: ",u," seconds"]}),0===c&&0===y.x&&0===y.y&&(0,r.jsx)("p",{className:"text-xl text-red-500 mt-2",children:"Busted for cheating! Keep your cursor in the game area."}),(0,r.jsx)("p",{className:"mt-4",children:"Reloading in 3 seconds..."}),(0,r.jsx)("button",{onClick:T,className:"mt-6 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors duration-200 flex items-center gap-2",children:"← Return to Hub Now"})]}),!t&&u<5&&(0,r.jsxs)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-gray-800 bg-opacity-80 p-4 rounded-lg text-center",children:[(0,r.jsx)("p",{children:"Move your cursor to avoid the red obstacles!"}),(0,r.jsx)("p",{children:"Watch out for red balls AND red lines appearing anywhere on screen!"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-yellow-400",children:"Yellow warning lines"})," will appear before the red lines - move away quickly!"]}),(0,r.jsx)("p",{children:"You have 3 lives. Good luck!"}),(0,r.jsx)("p",{className:"text-red-400 text-sm mt-1",children:"Warning: Leaving the game area will result in an automatic loss!"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[465,441,517,358],()=>t(104)),_N_E=e.O()}]);